(function(n,t){function l(n,t,i){if(n.addEventListener){n.addEventListener(t,i,!1);return}n.attachEvent("on"+t,i)}function nt(n){if(n.type=="keypress"){var t=String.fromCharCode(n.which);return n.shiftKey||(t=t.toLowerCase()),t}return u[n.which]?u[n.which]:w[n.which]?w[n.which]:String.fromCharCode(n.which).toLowerCase()}function ut(n,t){return n.sort().join(",")===t.sort().join(",")}function a(n){n=n||{};var t=!1;for(var i in e){if(n[i]){t=!0;continue}e[i]=0}t||(c=!1)}function tt(n,t,i,u,f,o){var h,s,l=[],c=i.type,a,v;if(!r[n])return[];for(c=="keyup"&&p(n)&&(t=[n]),h=0;h<r[n].length;++h)(s=r[n][h],u||!s.seq||e[s.seq]==s.level)&&c==s.action&&((c!="keypress"||i.metaKey||i.ctrlKey)&&!ut(t,s.modifiers)||(a=!u&&s.combo==f,v=u&&s.seq==u&&s.level==o,(a||v)&&r[n].splice(h,1),l.push(s)));return l}function ft(n){var t=[];return n.shiftKey&&t.push("shift"),n.altKey&&t.push("alt"),n.ctrlKey&&t.push("ctrl"),n.metaKey&&t.push("meta"),t}function et(n){if(n.preventDefault){n.preventDefault();return}n.returnValue=!1}function ot(n){if(n.stopPropagation){n.stopPropagation();return}n.cancelBubble=!0}function v(n,t,i,r){f.stopCallback(t,t.target||t.srcElement,i,r)||n(t,i)===!1&&(et(t),ot(t))}function st(n,t,i){for(var u=tt(n,t,i),o={},f=0,e=!1,s,r=0;r<u.length;++r)u[r].seq&&(f=Math.max(f,u[r].level));for(r=0;r<u.length;++r){if(u[r].seq){if(u[r].level!=f)continue;e=!0;o[u[r].seq]=1;v(u[r].callback,i,u[r].combo,u[r].seq);continue}e||v(u[r].callback,i,u[r].combo)}s=i.type=="keypress"&&g;i.type!=c||p(n)||s||a(o);g=e&&i.type=="keydown"}function y(n){typeof n.which!="number"&&(n.which=n.keyCode);var t=nt(n);if(t){if(n.type=="keyup"&&h===t){h=!1;return}f.handleKey(t,ft(n),n)}}function p(n){return n=="shift"||n=="ctrl"||n=="alt"||n=="meta"}function ht(){clearTimeout(d);d=setTimeout(a,1e3)}function ct(){if(!o){o={};for(var n in u)n>95&&n<112||u.hasOwnProperty(n)&&(o[u[n]]=n)}return o}function lt(n,t,i){return i||(i=ct()[n]?"keydown":"keypress"),i=="keypress"&&t.length&&(i="keydown"),i}function at(n,t,i,r){function s(t){return function(){c=t;++e[n];ht()}}function l(t){v(i,t,n);r!=="keyup"&&(h=nt(t));setTimeout(a,10)}var u,f,o;for(e[n]=0,u=0;u<t.length;++u)f=u+1===t.length,o=f?l:s(r||it(t[u+1]).action),rt(t[u],o,r,n,u)}function vt(n){return n==="+"?["+"]:n.split("+")}function it(n,t){for(var i,u=[],f=vt(n),r=0;r<f.length;++r)i=f[r],k[i]&&(i=k[i]),t&&t!="keypress"&&b[i]&&(i=b[i],u.push("shift")),p(i)&&u.push(i);return t=lt(i,u,t),{key:i,modifiers:u,action:t}}function rt(n,t,i,u,f){s[n+":"+i]=t;n=n.replace(/\s+/g," ");var o=n.split(" "),e;if(o.length>1){at(n,o,t,i);return}e=it(n,i);r[e.key]=r[e.key]||[];tt(e.key,e.modifiers,{type:e.action},u,n,f);r[e.key][u?"unshift":"push"]({callback:t,modifiers:e.modifiers,action:e.action,seq:u,level:f,combo:n})}function yt(n,t,i){for(var r=0;r<n.length;++r)rt(n[r],t,i)}for(var f,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},w={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},b={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},o,r={},s={},e={},d,h=!1,g=!1,c=!1,i=1;i<20;++i)u[111+i]="f"+i;for(i=0;i<=9;++i)u[i+96]=i;l(t,"keypress",y);l(t,"keydown",y);l(t,"keyup",y);f={bind:function(n,t,i){return n=n instanceof Array?n:[n],yt(n,t,i),this},unbind:function(n,t){return f.bind(n,function(){},t)},trigger:function(n,t){return s[n+":"+t]&&s[n+":"+t]({},n),this},reset:function(){return r={},s={},this},stopCallback:function(n,t){return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:t.tagName=="INPUT"||t.tagName=="SELECT"||t.tagName=="TEXTAREA"||t.isContentEditable},handleKey:st};n.Mousetrap=f;typeof define=="function"&&define.amd&&define(f)})(window,document);
/*
//# sourceMappingURL=mousetrap.min.js.map
*/